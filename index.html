<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeSurf Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container-box {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            margin: 1.5rem;
            max-width: 96rem;
            margin-left: auto;
            margin-right: auto;
        }
        .nav-button {
            transition: all 0.2s ease;
        }
        .nav-button:hover {
            transform: translateY(-2px);
        }
        .active-nav {
            background-color: #4f46e5;
            color: white;
        }
        .quiz-option:hover {
            background-color: #e5e7eb;
        }
        .correct {
            background-color: #d1fae5;
            border: 2px solid #34d399;
        }
        .incorrect {
            background-color: #fee2e2;
            border: 2px solid #ef4444;
        }
        .quiz-option.selected {
            border: 2px solid #4f46e5;
        }
        .feature-card, .module-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover, .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center">

    <!-- Navigation -->
    <nav class="w-full bg-white shadow-md py-4 px-6 md:px-12 flex justify-between items-center rounded-b-3xl">
        <div class="flex items-center space-x-2">
            <svg class="w-8 h-8 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" />
            </svg>
            <span class="text-2xl font-bold text-gray-800">SafeSurf Academy</span>
        </div>
        <div class="flex space-x-2 md:space-x-4">
            <button id="nav-home" class="nav-button px-4 py-2 rounded-full text-gray-700 font-medium hover:bg-gray-200 active-nav">Home</button>
            <button id="nav-modules" class="nav-button px-4 py-2 rounded-full text-gray-700 font-medium hover:bg-gray-200">Modules</button>
            <button id="nav-chat" class="nav-button px-4 py-2 rounded-full text-gray-700 font-medium hover:bg-gray-200">AI Chat</button>
            <button id="nav-help" class="nav-button px-4 py-2 rounded-full text-gray-700 font-medium hover:bg-gray-200">Get Help</button>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="w-full flex-grow p-4 md:p-8">

        <!-- Home Section -->
        <section id="home-section" class="container-box">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-4 text-center">Welcome to SafeSurf Academy</h1>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-4">Your go-to educational hub for navigating the online world safely. Learn the facts, get help from our AI, or find a trusted resource in an emergency.</p>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-4">This website is designed for **children and teenagers** to help you navigate the digital world safely. We know the internet can be a great place to connect and learn, but it's important to be aware of the risks. Our goal is to give you the tools and knowledge to protect yourself and to show you where to go if you ever need help.</p>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-10">Parents, SafeSurf Academy can be used as an effective way to help educate your children and make sure they are never taken advantage of online.</p>
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Modules Card -->
                <div onclick="showSection('modules-section')" class="feature-card bg-indigo-50 p-6 rounded-2xl border border-indigo-200">
                    <svg class="w-16 h-16 text-indigo-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                        <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">Learning Modules</h3>
                    <p class="text-gray-600 mt-2">Explore our lessons and quizzes to become a pro at online safety.</p>
                </div>
                <!-- AI Chat Card -->
                <div onclick="showSection('chat-section')" class="feature-card bg-green-50 p-6 rounded-2xl border border-green-200">
                    <svg class="w-16 h-16 text-green-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
                        <path d="M15 7v2a4 4 0 01-4 4H9.833l-1.556 1.556A1 1 0 017 16.172V14a2 2 0 00-2-2h-1.667L2 10.333V12a2 2 0 002 2h2v2.586l3-3a1 1 0 01.172-.243l1.555-1.555A4 4 0 0115 7z" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">AI Safety Advisor</h3>
                    <p class="text-gray-600 mt-2">Talk to our AI to check if a message or screenshot is safe.</p>
                </div>
                <!-- Get Help Card -->
                <div onclick="showSection('help-section')" class="feature-card bg-red-50 p-6 rounded-2xl border border-red-200">
                    <svg class="w-16 h-16 text-red-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">Get Help</h3>
                    <p class="text-gray-600 mt-2">Find important contact information for emergency situations and support.</p>
                </div>
            </div>
        </section>

        <!-- Modules Section -->
        <section id="modules-section" class="container-box hidden">
            <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-6 text-center">Learning Modules</h2>

            <!-- Module List View -->
            <div id="module-list" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div onclick="showModuleContent(1)" class="module-card bg-indigo-50 p-6 rounded-2xl border border-indigo-200">
                    <svg class="w-12 h-12 text-indigo-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 2h2v4a1 1 0 001 1h4v-3.586l-2-2V6z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">Module 1: Recognizing Online Predators</h3>
                    <p class="text-gray-600 mt-2">Learn to spot red flags and dangerous behaviors from strangers online.</p>
                </div>
                <div onclick="showModuleContent(2)" class="module-card bg-green-50 p-6 rounded-2xl border border-green-200">
                    <svg class="w-12 h-12 text-green-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">Module 2: Online Privacy</h3>
                    <p class="text-gray-600 mt-2">Protect your personal information and keep your digital life safe.</p>
                </div>
                <div onclick="showModuleContent(3)" class="module-card bg-orange-50 p-6 rounded-2xl border border-orange-200">
                    <svg class="w-12 h-12 text-orange-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 13a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1zM4 14a1 1 0 01-1-1v-2.332L5.8 4.305A1 1 0 017 4h10a1 1 0 011 1v11a1 1 0 01-1 1H7.8l-4.8 5.468A1 1 0 013 18v-4a1 1 0 011-1z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">Module 3: Cyberbullying</h3>
                    <p class="text-gray-600 mt-2">Recognize, report, and deal with online bullying safely.</p>
                </div>
                <div onclick="showModuleContent(4)" class="module-card bg-red-50 p-6 rounded-2xl border border-red-200">
                    <svg class="w-12 h-12 text-red-600 mb-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3.25-2a1 1 0 000-1.664l-3.25-2z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800">Module 4: Sextortion and Scams</h3>
                    <p class="text-gray-600 mt-2">Learn to identify scams and protect yourself from online blackmail.</p>
                </div>
            </div>

            <!-- Individual Module Content (Hidden by default) -->
            <div id="module-content-container" class="hidden mt-8">
                <button onclick="showModulesList()" class="px-4 py-2 mb-6 bg-gray-200 rounded-full font-medium hover:bg-gray-300 transition-colors">&larr; Back to Modules</button>
                
                <!-- Module 1 Content -->
                <div id="module-1-content" class="module-details bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-200 hidden">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">Module 1: Recognizing Online Predators</h3>
                    <div id="lesson-1" class="module-content">
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Online predators are people who try to take advantage of others through the internet. They often pretend to be someone they are not to gain your trust. It's important to know the warning signs.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-6">
                            <li>They ask too many personal questions, like where you go to school or your home address.</li>
                            <li>They try to move the conversation to a private app or platform right away.</li>
                            <li>They try to make you keep secrets from your parents or guardians.</li>
                            <li>They may send inappropriate messages or pictures, or try to convince you to do the same.</li>
                            <li>They often use flattery and emotional manipulation to make you feel special or needed.</li>
                            <li>They may create a fake, sympathetic persona to make you feel like they understand you better than anyone else.</li>
                            <li>They often discourage you from sharing your online activities with a trusted adult.</li>
                            <li>They might offer you gifts or money to get you to do something you're not comfortable with.</li>
                            <li>They may have very few friends or followers, or a profile that seems too perfect.</li>
                            <li>They might react with anger or guilt trips if you set a boundary or say no.</li>
                        </ul>
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Always remember: a trusted adult will never ask you to keep a secret from your parents, especially a secret that makes you feel uncomfortable.
                        </p>
                        <button onclick="startQuiz(1)" class="w-full px-6 py-3 bg-green-500 text-white rounded-full font-bold shadow-md hover:bg-green-600 transition-colors">Take the Quiz</button>
                    </div>
                    <div id="quiz-1" class="module-content hidden">
                        <form onsubmit="submitQuiz(event, 1)">
                            <div class="space-y-6">
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">1. What is a key sign that someone online might be a predator?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="A" class="mr-2"> They frequently talk about their hobbies.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="B" class="mr-2"> They ask for your home address.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="C" class="mr-2"> They have a profile picture of a pet.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">2. True or False: A trusted adult will ask you to keep secrets from your parents.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">3. What is a common tactic predators use to gain trust?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="A" class="mr-2"> Emotional manipulation and flattery.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="B" class="mr-2"> Offering to play video games with you.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="C" class="mr-2"> Suggesting you join a public group chat.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">4. True or False: If someone online offers you a gift, it's always safe to accept it.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">5. What should you do if an online conversation makes you feel uncomfortable?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="A" class="mr-2"> Immediately tell a trusted adult.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="B" class="mr-2"> Keep talking to see if it gets better.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="C" class="mr-2"> Block them and never talk about it.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">6. Which is a sign that a profile may be fake?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="A" class="mr-2"> They have a common name.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="B" class="mr-2"> They have very few friends or followers.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="C" class="mr-2"> They post about their everyday life.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">7. True or False: It is important to move conversations to a private app as soon as possible.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">8. What is a key warning sign of a predator's behavior?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="A" class="mr-2"> They get angry if you set a boundary.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="B" class="mr-2"> They have a profile picture of a person.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="C" class="mr-2"> They share funny videos.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">9. True or False: Predators often pretend to be someone they are not to gain your trust.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">10. What is a predator's goal in an online conversation?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="A" class="mr-2"> To make a new friend.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="B" class="mr-2"> To take advantage of you.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="C" class="mr-2"> To learn about your favorite games.
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="w-full mt-6 px-6 py-3 bg-indigo-600 text-white rounded-full font-bold shadow-md hover:bg-indigo-700 transition-colors">Submit Quiz</button>
                        </form>
                        <div id="quiz-result-1" class="mt-4 hidden"></div>
                    </div>
                </div>

                <!-- Module 2 Content -->
                <div id="module-2-content" class="module-details bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-200 hidden">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">Module 2: Online Privacy and Personal Information</h3>
                    <div id="lesson-2" class="module-content">
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Keeping your personal information private is one of the most important things you can do online. Your personal information can be used to track you down or to impersonate you. This is why you should be very careful about what you share.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-6">
                            <li>Never share your full name, home address, school, phone number, or social security number.</li>
                            <li>Be careful with what your photos reveal. A picture can show your location (from geotagging), your school uniform, or a street sign near your house.</li>
                            <li>Use strong and unique passwords for all your accounts. Use a mix of uppercase and lowercase letters, numbers, and symbols.</li>
                            <li>Turn on **privacy settings** on all your social media accounts so only people you know can see your content.</li>
                            <li>Think before you click! Phishing scams are fake emails or messages designed to steal your information.</li>
                            <li>Log out of accounts when you're done, especially on shared devices.</li>
                            <li>Don't download apps or files from untrusted sources. They could contain viruses or malware.</li>
                            <li>Be wary of online surveys and quizzes that ask for a lot of personal information.</li>
                            <li>Remember that anything you post online can be **permanent**. It can be copied and shared even after you delete it.</li>
                            <li>If a website or app asks for too much information, it's a sign to be cautious.</li>
                        </ul>
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Your digital footprint is permanent. Protect your privacy like you would protect a valuable possession.
                        </p>
                        <button onclick="startQuiz(2)" class="w-full px-6 py-3 bg-green-500 text-white rounded-full font-bold shadow-md hover:bg-green-600 transition-colors">Take the Quiz</button>
                    </div>
                    <div id="quiz-2" class="module-content hidden">
                        <form onsubmit="submitQuiz(event, 2)">
                            <div class="space-y-6">
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">1. Which piece of information is always safe to share online?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="A" class="mr-2"> Your favorite color.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="B" class="mr-2"> Your full name.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="C" class="mr-2"> Your home address.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">2. True or False: Geotagging on a photo can reveal your location.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">3. What is the best way to protect your social media from strangers?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="A" class="mr-2"> Only post things you like.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="B" class="mr-2"> Use a fake name.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="C" class="mr-2"> Turn on your privacy settings.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">4. True or False: Once you delete something online, it's gone forever.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">5. A strong password should include which of the following?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="A" class="mr-2"> Only letters.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="B" class="mr-2"> Only numbers.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="C" class="mr-2"> A mix of letters, numbers, and symbols.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">6. What is a "phishing scam"?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="A" class="mr-2"> A game where you catch fish.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="B" class="mr-2"> A fake message to steal your information.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="C" class="mr-2"> A real-time chat with a friend.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">7. True or False: You don't need to log out of your accounts on a public computer.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">8. What is the main danger of downloading files from untrusted sources?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="A" class="mr-2"> The file might not work.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="B" class="mr-2"> It could contain a virus or malware.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="C" class="mr-2"> It might take a long time to download.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">9. What should you do if an app asks for a lot of personal information?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="A" class="mr-2"> Enter the information anyway.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="B" class="mr-2"> Stop and think about why they need it.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="C" class="mr-2"> Share some of the information.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">10. True or False: It's okay to share your school uniform picture online if your face isn't showing.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="w-full mt-6 px-6 py-3 bg-indigo-600 text-white rounded-full font-bold shadow-md hover:bg-indigo-700 transition-colors">Submit Quiz</button>
                        </form>
                        <div id="quiz-result-2" class="mt-4 hidden"></div>
                    </div>
                </div>

                <!-- Module 3 Content -->
                <div id="module-3-content" class="module-details bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-200 hidden">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">Module 3: Cyberbullying and What to Do</h3>
                    <div id="lesson-3" class="module-content">
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Cyberbullying is using technology to hurt, harass, or embarrass someone else. It's not a joke and can have serious effects. Here's what you need to know.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-6">
                            <li>Cyberbullying can happen on social media, in group chats, through text messages, or in online games.</li>
                            <li>It can involve spreading rumors, posting embarrassing photos, sending mean messages, or excluding someone from an online group.</li>
                            <li>**Never respond to a bully.** Responding can often make the situation worse. Block them and don't engage.</li>
                            <li>Always **save the evidence**. Take screenshots of the messages, posts, or images. This is important if you need to report it later.</li>
                            <li>Tell a **trusted adult**. This could be a parent, teacher, school counselor, or family member. They can help you figure out the best way to handle the situation.</li>
                            <li>Report the bully to the platform where it happened. Most social media apps and games have a way to report bullying or harassment.</li>
                            <li>Don't be a bystander. If you see someone else being bullied, speak up for them or report the behavior.</li>
                            <li>Take a break from the online world if you need to. Your mental health is more important than being constantly connected.</li>
                            <li>Remember that you are not alone. Cyberbullying is a common problem, and there are many people who want to help.</li>
                            <li>Block and report: This is your best defense against bullies. Don't feel guilty about doing it.</li>
                        </ul>
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            If you're being cyberbullied, it's not your fault. You have the right to feel safe online.
                        </p>
                        <button onclick="startQuiz(3)" class="w-full px-6 py-3 bg-green-500 text-white rounded-full font-bold shadow-md hover:bg-green-600 transition-colors">Take the Quiz</button>
                    </div>
                    <div id="quiz-3" class="module-content hidden">
                        <form onsubmit="submitQuiz(event, 3)">
                            <div class="space-y-6">
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">1. What is the most important thing to do if you are being cyberbullied?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="A" class="mr-2"> Respond to the bully with a mean message.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="B" class="mr-2"> Block them and tell a trusted adult.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="C" class="mr-2"> Try to talk it out with the bully alone.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">2. True or False: Cyberbullying is only a problem if it happens on social media.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">3. Why is it important to save screenshots of bullying messages?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="A" class="mr-2"> To show your friends later.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="B" class="mr-2"> As evidence for reporting the bully.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="C" class="mr-2"> So you can read them again later.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">4. True or False: If you see someone being cyberbullied, you should ignore it.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">5. What is the primary purpose of reporting a bully to a platform?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="A" class="mr-2"> To make them apologize to you.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="B" class="mr-2"> To get them kicked off the platform.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="C" class="mr-2"> To make sure they can't message you.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">6. True or False: You can always resolve a bullying situation by responding to the bully.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">7. What is a sign that you might be dealing with cyberbullying?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="A" class="mr-2"> Someone sends you a friendly message.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="B" class="mr-2"> Someone is consistently mean to you in a group chat.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="C" class="mr-2"> A friend shares a funny meme with you.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">8. True or False: Taking a break from being online is a good way to cope with cyberbullying.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">9. Who should you talk to if you are being cyberbullied?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="A" class="mr-2"> The bully's parents.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="B" class="mr-2"> No one.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="C" class="mr-2"> A trusted adult.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">10. True or False: Being a bystander is okay, as long as you aren't the one being bullied.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="w-full mt-6 px-6 py-3 bg-indigo-600 text-white rounded-full font-bold shadow-md hover:bg-indigo-700 transition-colors">Submit Quiz</button>
                        </form>
                        <div id="quiz-result-3" class="mt-4 hidden"></div>
                    </div>
                </div>

                <!-- Module 4 Content -->
                <div id="module-4-content" class="module-details bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-200 hidden">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">Module 4: Sextortion and Scams</h3>
                    <div id="lesson-4" class="module-content">
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Sextortion is a serious and harmful crime. It happens when someone threatens to share a private, often inappropriate, image of you unless you give them money, more photos, or do something else they want. Scams are tricks to get money or information from you.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-6">
                            <li>Sextortion often starts after a predator has gained your trust. They might ask for a private photo and then threaten you with it later.</li>
                            <li>**Never send private images of yourself or anyone else.** It is against the law to share these images.</li>
                            <li>If you are a victim of sextortion, it's crucial to **immediately stop all contact** with the person. Do not pay them or do what they ask.</li>
                            <li>Scammers often use fake stories to get you to send them money. They might pretend to be a friend in trouble or claim you've won a prize.</li>
                            <li>Be suspicious of messages or emails that seem too good to be true, or that ask for personal information like a password or credit card number.</li>
                            <li>Report the user or message to the platform. Most platforms have specific tools for reporting these kinds of threats.</li>
                            <li>**Tell a trusted adult right away.** A parent, teacher, or police officer can help you. You are not in trouble, and they can help you get the support you need.</li>
                            <li>Don't be ashamed or embarrassed. It's a crime, and you are the victim.</li>
                            <li>Check the spelling and grammar of messages. Scams often have bad spelling or strange phrasing.</li>
                            <li>Remember that you should never have to pay to claim a prize or to get a service.</li>
                        </ul>
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Stopping communication and telling a trusted adult are the most important steps to protect yourself.
                        </p>
                        <button onclick="startQuiz(4)" class="w-full px-6 py-3 bg-green-500 text-white rounded-full font-bold shadow-md hover:bg-green-600 transition-colors">Take the Quiz</button>
                    </div>
                    <div id="quiz-4" class="module-content hidden">
                        <form onsubmit="submitQuiz(event, 4)">
                            <div class="space-y-6">
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">1. What is the definition of sextortion?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="A" class="mr-2"> A fun online game with friends.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="B" class="mr-2"> Someone threatening to share a private photo unless you do what they ask.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q1" value="C" class="mr-2"> A message from a friend.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">2. True or False: If a scammer threatens you, you should pay them to make them stop.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q2" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">3. What is a key step to take if you are a victim of sextortion?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="A" class="mr-2"> Stop all contact with the person.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="B" class="mr-2"> Negotiate with them.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q3" value="C" class="mr-2"> Apologize to them.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">4. True or False: A message that seems "too good to be true" is probably a scam.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q4" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">5. What should you do if someone online asks for a private picture?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="A" class="mr-2"> Send it to them.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="B" class="mr-2"> Immediately stop contact and tell an adult.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q5" value="C" class="mr-2"> Ask them why they need it.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">6. True or False: It is illegal to share private images of others without their consent.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q6" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">7. What is a sign that a message might be a scam?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="A" class="mr-2"> It has a friendly tone.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="B" class="mr-2"> It offers you something for free.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q7" value="C" class="mr-2"> It has bad spelling and grammar.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">8. True or False: If you are a victim of sextortion, you are in trouble.</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="A" class="mr-2"> True
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q8" value="B" class="mr-2"> False
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">9. What is a good way to prevent being scammed?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="A" class="mr-2"> Share your password with a friend.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="B" class="mr-2"> Think before you click on a suspicious link.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q9" value="C" class="mr-2"> Respond to every message you get.
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800 mb-3">10. Who should you tell if you are a victim of sextortion or a scam?</p>
                                    <div class="space-y-2">
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="A" class="mr-2"> No one.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="B" class="mr-2"> A trusted adult.
                                        </label>
                                        <label class="quiz-option block p-4 bg-white border border-gray-300 rounded-xl cursor-pointer">
                                            <input type="radio" name="q10" value="C" class="mr-2"> A random person online.
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="w-full mt-6 px-6 py-3 bg-indigo-600 text-white rounded-full font-bold shadow-md hover:bg-indigo-700 transition-colors">Submit Quiz</button>
                        </form>
                        <div id="quiz-result-4" class="mt-4 hidden"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Chat Section -->
        <section id="chat-section" class="container-box hidden">
            <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-6 text-center">AI Safety Advisor</h2>
            <div class="flex flex-col md:flex-row h-[70vh] space-y-6 md:space-y-0 md:space-x-6">
                <!-- Chat Interface -->
                <div class="flex flex-col flex-grow bg-gray-50 rounded-2xl p-4 shadow-inner">
                    <div id="chat-messages" class="flex-grow overflow-y-auto space-y-4 p-4 rounded-xl">
                        <!-- Chat messages will be appended here -->
                        <div class="flex justify-start">
                            <div class="bg-indigo-100 p-4 rounded-3xl rounded-bl-none text-gray-800 max-w-xs md:max-w-md shadow-sm">
                                Hello! I'm here to help you figure out if a message is safe or not. You can type a message or upload a screenshot for me to analyze.
                            </div>
                        </div>
                    </div>
                    <!-- Chat Input -->
                    <div class="mt-4 flex items-center bg-white border border-gray-200 rounded-full p-2 shadow-lg">
                        <input type="text" id="chat-input" placeholder="Type your message..." class="flex-grow p-2 pl-4 rounded-full focus:outline-none">
                        <label for="file-upload" class="cursor-pointer p-2 text-indigo-500 hover:text-indigo-700 transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                            </svg>
                        </label>
                        <input id="file-upload" type="file" accept="image/*" class="hidden">
                        <button id="send-button" class="bg-indigo-600 text-white p-2 ml-2 rounded-full shadow-md hover:bg-indigo-700 transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 00.116.855c.343.344.755.517 1.18.517h12.5a1 1 0 001.18-.517 1 1 0 00.116-.855l-7-14z" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Guidance/Disclaimer Panel -->
                <div class="w-full md:w-1/3 bg-gray-50 rounded-2xl p-6 shadow-md border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700 mb-4">How to use the AI Chat</h3>
                    <ul class="space-y-3 text-gray-600">
                        <li class="flex items-start">
                            <span class="mr-2 text-indigo-500 font-bold">1.</span>
                            <p>Type a message you're unsure about, or use the image icon to upload a screenshot of a conversation.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-indigo-500 font-bold">2.</span>
                            <p>The AI will analyze the content and tell you if it's potentially unsafe and why.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-indigo-500 font-bold">3.</span>
                            <p>This is a tool to help you learn. If a message ever makes you feel scared or uncomfortable, you should always tell a trusted adult.</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Get Help Section -->
        <section id="help-section" class="container-box hidden">
            <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-6 text-center">Need Help? Get Support Now.</h2>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-8">
                If you or someone you know is in immediate danger, please contact 9-1-1 or your local emergency services. For other concerns, here are some helpful resources you can reach out to:
            </p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">

                <!-- Resource 1 -->
                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 shadow-sm">
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">National Center for Missing & Exploited Children (NCMEC)</h3>
                    <p class="text-gray-600 mb-2">Their CyberTipline is a centralized reporting system for online child exploitation.</p>
                    <p class="font-bold text-indigo-600">24/7 Hotline: 1-800-THE-LOST (1-800-843-5678)</p>
                    <a href="https://www.missingkids.org/gethelpnow/cybertipline" target="_blank" class="text-indigo-500 hover:text-indigo-700 font-medium mt-2 block">Visit CyberTipline Website &rarr;</a>
                </div>

                <!-- Resource 2 -->
                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 shadow-sm">
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">Kids Help Phone (Canada)</h3>
                    <p class="text-gray-600 mb-2">A free, 24/7 confidential e-mental health service for young people in Canada.</p>
                    <p class="font-bold text-indigo-600">Call: 1-800-668-6868</p>
                    <p class="font-bold text-indigo-600">Text: CONNECT to 686868</p>
                    <a href="https://kidshelpphone.ca/" target="_blank" class="text-indigo-500 hover:text-indigo-700 font-medium mt-2 block">Visit Kids Help Phone Website &rarr;</a>
                </div>

                <!-- Resource 3: Trusted Adult -->
                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 shadow-sm">
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">Talk to a Trusted Adult</h3>
                    <p class="text-gray-600 mb-2">The most important step is to talk to someone you trust, like a parent, teacher, or school counselor. They are there to help you stay safe.</p>
                    <div class="flex items-center justify-center mt-4">
                        <svg class="w-12 h-12 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                        </svg>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal for Messages (like alerts) -->
    <div id="modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-3xl p-8 shadow-2xl max-w-sm w-full text-center">
            <h3 id="modal-title" class="text-2xl font-bold mb-4 text-gray-800"></h3>
            <p id="modal-message" class="text-gray-600 mb-6"></p>
            <button onclick="closeModal()" class="px-6 py-3 bg-indigo-600 text-white rounded-full font-bold hover:bg-indigo-700 transition-colors">Close</button>
        </div>
    </div>
    
    <script>
        const API_KEY = ""; // Do not change
        const API_URL_TEXT = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;
        const API_URL_IMAGE = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;

        // Utility functions for showing/hiding sections
        const sections = ['home-section', 'modules-section', 'chat-section', 'help-section'];
        const navButtons = {
            'home-section': document.getElementById('nav-home'),
            'modules-section': document.getElementById('nav-modules'),
            'chat-section': document.getElementById('nav-chat'),
            'help-section': document.getElementById('nav-help')
        };
        const moduleDetails = document.querySelectorAll('.module-details');

        function showSection(sectionId) {
            sections.forEach(id => {
                document.getElementById(id).classList.add('hidden');
                navButtons[id].classList.remove('active-nav');
            });
            document.getElementById(sectionId).classList.remove('hidden');
            navButtons[sectionId].classList.add('active-nav');
        }

        // Functions for module navigation
        function showModulesList() {
            document.getElementById('module-list').classList.remove('hidden');
            document.getElementById('module-content-container').classList.add('hidden');
            moduleDetails.forEach(el => el.classList.add('hidden'));
        }

        function showModuleContent(moduleId) {
            document.getElementById('module-list').classList.add('hidden');
            document.getElementById('module-content-container').classList.remove('hidden');
            const targetModule = document.getElementById(`module-${moduleId}-content`);
            if (targetModule) {
                targetModule.classList.remove('hidden');
            }
        }

        document.getElementById('nav-home').addEventListener('click', () => showSection('home-section'));
        document.getElementById('nav-modules').addEventListener('click', () => {
            showSection('modules-section');
            showModulesList(); // Make sure to show the list of modules
        });
        document.getElementById('nav-chat').addEventListener('click', () => showSection('chat-section'));
        document.getElementById('nav-help').addEventListener('click', () => showSection('help-section'));

        // Modal functions
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalMessage = document.getElementById('modal-message');

        function showModal(title, message) {
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            modal.classList.remove('hidden');
        }

        function closeModal() {
            modal.classList.add('hidden');
        }

        // Quiz Logic
        const quizAnswers = {
            1: {
                q1: 'B', q2: 'B', q3: 'A', q4: 'B', q5: 'A', q6: 'B', q7: 'B', q8: 'A', q9: 'A', q10: 'B'
            },
            2: {
                q1: 'A', q2: 'A', q3: 'C', q4: 'B', q5: 'C', q6: 'B', q7: 'B', q8: 'B', q9: 'B', q10: 'B'
            },
            3: {
                q1: 'B', q2: 'B', q3: 'B', q4: 'B', q5: 'B', q6: 'B', q7: 'B', q8: 'A', q9: 'C', q10: 'B'
            },
            4: {
                q1: 'B', q2: 'B', q3: 'A', q4: 'A', q5: 'B', q6: 'A', q7: 'C', q8: 'B', q9: 'B', q10: 'B'
            }
        };

        function startQuiz(moduleId) {
            const lesson = document.getElementById(`lesson-${moduleId}`);
            const quiz = document.getElementById(`quiz-${moduleId}`);
            lesson.classList.add('hidden');
            quiz.classList.remove('hidden');
        }

        function submitQuiz(event, moduleId) {
            event.preventDefault();
            const form = event.target;
            const correctAnswers = quizAnswers[moduleId];
            const resultDiv = document.getElementById(`quiz-result-${moduleId}`);
            resultDiv.innerHTML = '';
            let score = 0;
            let totalQuestions = Object.keys(correctAnswers).length;

            let allAnswered = true;
            for (const question in correctAnswers) {
                const selectedOption = form.querySelector(`input[name="${question}"]:checked`);
                if (!selectedOption) {
                    allAnswered = false;
                    break;
                }
                const isCorrect = selectedOption.value === correctAnswers[question];
                if (isCorrect) {
                    score++;
                }

                // Add classes for visual feedback
                const parentLabel = selectedOption.closest('label');
                parentLabel.classList.add(isCorrect ? 'correct' : 'incorrect');
                parentLabel.classList.add('selected');

                // Disable all radio buttons after submission
                form.querySelectorAll(`input[name="${question}"]`).forEach(radio => radio.disabled = true);
            }

            if (!allAnswered) {
                showModal('Quiz Incomplete', 'Please answer all the questions before submitting.');
                // Reset styling and re-enable buttons if incomplete
                form.querySelectorAll('input[type="radio"]').forEach(radio => radio.disabled = false);
                form.querySelectorAll('.quiz-option').forEach(label => label.classList.remove('correct', 'incorrect', 'selected'));
                return;
            }

            const message = `You got ${score} out of ${totalQuestions} correct! ${score === totalQuestions ? 'Great job!' : 'You can review the lesson and try again!'}`;
            showModal('Quiz Results', message);
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `<p class="text-lg font-bold text-center">${message}</p>`;
        }

        // AI Chat Logic
        const chatInput = document.getElementById('chat-input');
        const sendButton = document.getElementById('send-button');
        const fileUpload = document.getElementById('file-upload');
        const chatMessages = document.getElementById('chat-messages');

        // Function to create and append a chat message
        function addMessage(text, isUser = false) {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = `flex ${isUser ? 'justify-end' : 'justify-start'}`;

            const messageBubble = document.createElement('div');
            messageBubble.className = `p-4 rounded-3xl max-w-xs md:max-w-md shadow-sm ${isUser ? 'bg-indigo-600 text-white rounded-br-none' : 'bg-gray-200 text-gray-800 rounded-bl-none'}`;
            messageBubble.innerText = text;

            messageWrapper.appendChild(messageBubble);
            chatMessages.appendChild(messageWrapper);
            chatMessages.scrollTop = chatMessages.scrollHeight; // Auto-scroll
        }

        // Function to add a loading indicator
        function addLoadingIndicator() {
            const loadingWrapper = document.createElement('div');
            loadingWrapper.id = 'loading-indicator';
            loadingWrapper.className = 'flex justify-start';
            const loadingBubble = document.createElement('div');
            loadingBubble.className = 'p-4 rounded-3xl rounded-bl-none bg-gray-200 text-gray-800';
            loadingBubble.innerHTML = `
                <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-gray-500 rounded-full animate-pulse"></div>
                    <div class="w-2 h-2 bg-gray-500 rounded-full animate-pulse delay-75"></div>
                    <div class="w-2 h-2 bg-gray-500 rounded-full rounded-full animate-pulse delay-150"></div>
                </div>`;
            loadingWrapper.appendChild(loadingBubble);
            chatMessages.appendChild(loadingWrapper);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Main AI function
        async function getGeminiResponse(payload) {
            addLoadingIndicator();
            const loadingIndicator = document.getElementById('loading-indicator');

            try {
                const response = await fetch(API_URL_TEXT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                const candidate = result.candidates?.[0];
                if (candidate && candidate.content?.parts?.[0]?.text) {
                    const text = candidate.content.parts[0].text;
                    addMessage(text);
                } else {
                    addMessage("I'm sorry, I couldn't process that. Please try again or rephrase.", false);
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                addMessage("I encountered an error. Please try again later.", false);
            } finally {
                if (loadingIndicator) {
                    loadingIndicator.remove();
                }
                chatInput.value = '';
                chatInput.disabled = false;
                sendButton.disabled = false;
            }
        }

        // Event listeners for chat
        sendButton.addEventListener('click', async () => {
            const text = chatInput.value.trim();
            const file = fileUpload.files[0];

            if (!text && !file) {
                return;
            }

            chatInput.disabled = true;
            sendButton.disabled = true;

            const systemPrompt = "You are a helpful and kind AI assistant for underage people. Your purpose is to help them identify potential online dangers. When a user provides text or a screenshot, analyze it for red flags like asking for personal information, trying to get them to keep secrets, using flattery to gain trust, or sending inappropriate content. Your response should be clear, non-judgmental, and simple. Always start your response with a clear statement: 'This message is safe.' or 'This message is not safe.' followed by a brief, easy-to-understand explanation of why. If it's not safe, always advise them to stop communicating with the person and to talk to a trusted adult.";
            const userPrompt = text ? text : "Please analyze the attached image.";

            let payload;
            if (file) {
                const reader = new FileReader();
                reader.onloadend = async () => {
                    const base64Data = reader.result.split(',')[1];
                    addMessage('Analyzing your screenshot...', true);
                    payload = {
                        contents: [{
                            role: "user",
                            parts: [
                                { text: userPrompt },
                                {
                                    inlineData: {
                                        mimeType: file.type,
                                        data: base64Data
                                    }
                                }
                            ]
                        }],
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        },
                    };
                    await getGeminiResponse(payload);
                    fileUpload.value = ''; // Clear file input
                };
                reader.readAsDataURL(file);
            } else {
                addMessage(text, true);
                payload = {
                    contents: [{
                        parts: [{ text: userPrompt }]
                    }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };
                await getGeminiResponse(payload);
            }
        });

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendButton.click();
            }
        });

        // Set initial section
        window.onload = () => {
            showSection('home-section');
        }

    </script>
</body>
</html>
